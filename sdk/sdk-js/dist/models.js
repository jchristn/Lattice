"use strict";
/**
 * Lattice SDK Models
 *
 * Data models for the Lattice REST API.
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.DataType = exports.EnumerationOrder = exports.SearchCondition = exports.IndexingMode = exports.SchemaEnforcementMode = void 0;
exports.parseDate = parseDate;
exports.parseCollection = parseCollection;
exports.parseDocument = parseDocument;
exports.parseSchema = parseSchema;
exports.parseSchemaElement = parseSchemaElement;
exports.parseFieldConstraint = parseFieldConstraint;
exports.parseIndexedField = parseIndexedField;
exports.parseSearchResult = parseSearchResult;
exports.parseIndexRebuildResult = parseIndexRebuildResult;
exports.parseIndexTableMapping = parseIndexTableMapping;
exports.fieldConstraintToRequest = fieldConstraintToRequest;
exports.searchFilterToRequest = searchFilterToRequest;
exports.searchQueryToRequest = searchQueryToRequest;
/**
 * Schema enforcement mode for collections.
 */
var SchemaEnforcementMode;
(function (SchemaEnforcementMode) {
    SchemaEnforcementMode[SchemaEnforcementMode["None"] = 0] = "None";
    SchemaEnforcementMode[SchemaEnforcementMode["Strict"] = 1] = "Strict";
    SchemaEnforcementMode[SchemaEnforcementMode["Flexible"] = 2] = "Flexible";
    SchemaEnforcementMode[SchemaEnforcementMode["Partial"] = 3] = "Partial";
})(SchemaEnforcementMode || (exports.SchemaEnforcementMode = SchemaEnforcementMode = {}));
/**
 * Indexing mode for collections.
 */
var IndexingMode;
(function (IndexingMode) {
    IndexingMode[IndexingMode["All"] = 0] = "All";
    IndexingMode[IndexingMode["Selective"] = 1] = "Selective";
    IndexingMode[IndexingMode["None"] = 2] = "None";
})(IndexingMode || (exports.IndexingMode = IndexingMode = {}));
/**
 * Search condition operators.
 */
var SearchCondition;
(function (SearchCondition) {
    SearchCondition["Equals"] = "Equals";
    SearchCondition["NotEquals"] = "NotEquals";
    SearchCondition["GreaterThan"] = "GreaterThan";
    SearchCondition["GreaterThanOrEqualTo"] = "GreaterThanOrEqualTo";
    SearchCondition["LessThan"] = "LessThan";
    SearchCondition["LessThanOrEqualTo"] = "LessThanOrEqualTo";
    SearchCondition["IsNull"] = "IsNull";
    SearchCondition["IsNotNull"] = "IsNotNull";
    SearchCondition["Contains"] = "Contains";
    SearchCondition["StartsWith"] = "StartsWith";
    SearchCondition["EndsWith"] = "EndsWith";
    SearchCondition["Like"] = "Like";
})(SearchCondition || (exports.SearchCondition = SearchCondition = {}));
/**
 * Enumeration ordering options.
 */
var EnumerationOrder;
(function (EnumerationOrder) {
    EnumerationOrder["CreatedAscending"] = "CreatedAscending";
    EnumerationOrder["CreatedDescending"] = "CreatedDescending";
    EnumerationOrder["LastUpdateAscending"] = "LastUpdateAscending";
    EnumerationOrder["LastUpdateDescending"] = "LastUpdateDescending";
    EnumerationOrder["NameAscending"] = "NameAscending";
    EnumerationOrder["NameDescending"] = "NameDescending";
})(EnumerationOrder || (exports.EnumerationOrder = EnumerationOrder = {}));
/**
 * Data types for field constraints and schema elements.
 */
var DataType;
(function (DataType) {
    DataType["String"] = "string";
    DataType["Integer"] = "integer";
    DataType["Number"] = "number";
    DataType["Boolean"] = "boolean";
    DataType["Array"] = "array";
    DataType["Object"] = "object";
    DataType["Null"] = "null";
})(DataType || (exports.DataType = DataType = {}));
/**
 * Parse a date from API response.
 */
function parseDate(value) {
    if (!value)
        return undefined;
    if (value instanceof Date)
        return value;
    if (typeof value === "string") {
        const date = new Date(value);
        return isNaN(date.getTime()) ? undefined : date;
    }
    return undefined;
}
/**
 * Parse a Collection from API response data.
 */
function parseCollection(data) {
    if (!data)
        return null;
    return {
        id: data.id || "",
        name: data.name || "",
        description: data.description,
        documentsDirectory: data.documentsDirectory,
        labels: data.labels || [],
        tags: data.tags || {},
        createdUtc: parseDate(data.createdUtc),
        lastUpdateUtc: parseDate(data.lastUpdateUtc),
        schemaEnforcementMode: data.schemaEnforcementMode ?? SchemaEnforcementMode.None,
        indexingMode: data.indexingMode ?? IndexingMode.All
    };
}
/**
 * Parse a Document from API response data.
 */
function parseDocument(data) {
    if (!data)
        return null;
    return {
        id: data.id || "",
        collectionId: data.collectionId || "",
        schemaId: data.schemaId || "",
        name: data.name,
        labels: data.labels || [],
        tags: data.tags || {},
        createdUtc: parseDate(data.createdUtc),
        lastUpdateUtc: parseDate(data.lastUpdateUtc),
        content: data.content,
        contentLength: data.contentLength || 0,
        sha256Hash: data.sha256Hash
    };
}
/**
 * Parse a Schema from API response data.
 */
function parseSchema(data) {
    if (!data)
        return null;
    return {
        id: data.id || "",
        name: data.name,
        hash: data.hash,
        createdUtc: parseDate(data.createdUtc),
        lastUpdateUtc: parseDate(data.lastUpdateUtc)
    };
}
/**
 * Parse a SchemaElement from API response data.
 */
function parseSchemaElement(data) {
    if (!data)
        return null;
    return {
        id: data.id || "",
        schemaId: data.schemaId || "",
        position: data.position || 0,
        key: data.key || "",
        dataType: data.dataType || "",
        nullable: data.nullable || false,
        createdUtc: parseDate(data.createdUtc),
        lastUpdateUtc: parseDate(data.lastUpdateUtc)
    };
}
/**
 * Parse a FieldConstraint from API response data.
 */
function parseFieldConstraint(data) {
    if (!data)
        return null;
    return {
        id: data.id,
        collectionId: data.collectionId,
        fieldPath: data.fieldPath || "",
        dataType: data.dataType,
        required: data.required,
        nullable: data.nullable,
        regexPattern: data.regexPattern,
        minValue: data.minValue,
        maxValue: data.maxValue,
        minLength: data.minLength,
        maxLength: data.maxLength,
        allowedValues: data.allowedValues,
        arrayElementType: data.arrayElementType,
        createdUtc: parseDate(data.createdUtc),
        lastUpdateUtc: parseDate(data.lastUpdateUtc)
    };
}
/**
 * Parse an IndexedField from API response data.
 */
function parseIndexedField(data) {
    if (!data)
        return null;
    return {
        id: data.id || "",
        collectionId: data.collectionId || "",
        fieldPath: data.fieldPath || "",
        createdUtc: parseDate(data.createdUtc),
        lastUpdateUtc: parseDate(data.lastUpdateUtc)
    };
}
/**
 * Parse a SearchResult from API response data.
 */
function parseSearchResult(data) {
    if (!data)
        return null;
    let timestamp;
    if (data.timestamp) {
        if (typeof data.timestamp === "object" && data.timestamp.utc) {
            timestamp = parseDate(data.timestamp.utc);
        }
        else {
            timestamp = parseDate(data.timestamp);
        }
    }
    return {
        success: data.success || false,
        timestamp,
        maxResults: data.maxResults,
        continuationToken: data.continuationToken,
        endOfResults: data.endOfResults || false,
        totalRecords: data.totalRecords || 0,
        recordsRemaining: data.recordsRemaining || 0,
        documents: (data.documents || []).map((d) => parseDocument(d)).filter((d) => d !== null)
    };
}
/**
 * Parse an IndexRebuildResult from API response data.
 */
function parseIndexRebuildResult(data) {
    if (!data)
        return null;
    return {
        collectionId: data.collectionId || "",
        documentsProcessed: data.documentsProcessed || 0,
        indexesCreated: data.indexesCreated || [],
        indexesDropped: data.indexesDropped || [],
        valuesInserted: data.valuesInserted || 0,
        duration: data.duration,
        durationMs: data.durationMs || 0,
        errors: data.errors || [],
        success: data.success || false
    };
}
/**
 * Parse an IndexTableMapping from API response data.
 */
function parseIndexTableMapping(data) {
    if (!data)
        return null;
    return {
        key: data.key || "",
        tableName: data.tableName || ""
    };
}
/**
 * Convert a FieldConstraint to API request format.
 */
function fieldConstraintToRequest(constraint) {
    const result = {
        fieldPath: constraint.fieldPath
    };
    if (constraint.dataType)
        result.dataType = constraint.dataType;
    if (constraint.required)
        result.required = constraint.required;
    if (constraint.nullable !== undefined)
        result.nullable = constraint.nullable;
    if (constraint.regexPattern)
        result.regexPattern = constraint.regexPattern;
    if (constraint.minValue !== undefined)
        result.minValue = constraint.minValue;
    if (constraint.maxValue !== undefined)
        result.maxValue = constraint.maxValue;
    if (constraint.minLength !== undefined)
        result.minLength = constraint.minLength;
    if (constraint.maxLength !== undefined)
        result.maxLength = constraint.maxLength;
    if (constraint.allowedValues)
        result.allowedValues = constraint.allowedValues;
    if (constraint.arrayElementType)
        result.arrayElementType = constraint.arrayElementType;
    return result;
}
/**
 * Convert a SearchFilter to API request format.
 */
function searchFilterToRequest(filter) {
    const result = {
        field: filter.field,
        condition: filter.condition
    };
    if (filter.value !== undefined)
        result.value = filter.value;
    return result;
}
/**
 * Convert a SearchQuery to API request format.
 */
function searchQueryToRequest(query) {
    const result = {};
    if (query.filters)
        result.filters = query.filters.map(searchFilterToRequest);
    if (query.labels)
        result.labels = query.labels;
    if (query.tags)
        result.tags = query.tags;
    if (query.maxResults !== undefined)
        result.maxResults = query.maxResults;
    if (query.skip !== undefined)
        result.skip = query.skip;
    if (query.ordering)
        result.ordering = query.ordering;
    if (query.includeContent)
        result.includeContent = query.includeContent;
    return result;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kZWxzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL21vZGVscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7Ozs7R0FJRzs7O0FBaVFILDhCQVFDO0FBS0QsMENBY0M7QUFLRCxzQ0FlQztBQUtELGtDQVNDO0FBS0QsZ0RBWUM7QUFLRCxvREFtQkM7QUFLRCw4Q0FTQztBQUtELDhDQXNCQztBQUtELDBEQWFDO0FBS0Qsd0RBTUM7QUFLRCw0REFlQztBQUtELHNEQU9DO0FBS0Qsb0RBVUM7QUExZEQ7O0dBRUc7QUFDSCxJQUFZLHFCQUtYO0FBTEQsV0FBWSxxQkFBcUI7SUFDN0IsaUVBQVEsQ0FBQTtJQUNSLHFFQUFVLENBQUE7SUFDVix5RUFBWSxDQUFBO0lBQ1osdUVBQVcsQ0FBQTtBQUNmLENBQUMsRUFMVyxxQkFBcUIscUNBQXJCLHFCQUFxQixRQUtoQztBQUVEOztHQUVHO0FBQ0gsSUFBWSxZQUlYO0FBSkQsV0FBWSxZQUFZO0lBQ3BCLDZDQUFPLENBQUE7SUFDUCx5REFBYSxDQUFBO0lBQ2IsK0NBQVEsQ0FBQTtBQUNaLENBQUMsRUFKVyxZQUFZLDRCQUFaLFlBQVksUUFJdkI7QUFFRDs7R0FFRztBQUNILElBQVksZUFhWDtBQWJELFdBQVksZUFBZTtJQUN2QixvQ0FBaUIsQ0FBQTtJQUNqQiwwQ0FBdUIsQ0FBQTtJQUN2Qiw4Q0FBMkIsQ0FBQTtJQUMzQixnRUFBNkMsQ0FBQTtJQUM3Qyx3Q0FBcUIsQ0FBQTtJQUNyQiwwREFBdUMsQ0FBQTtJQUN2QyxvQ0FBaUIsQ0FBQTtJQUNqQiwwQ0FBdUIsQ0FBQTtJQUN2Qix3Q0FBcUIsQ0FBQTtJQUNyQiw0Q0FBeUIsQ0FBQTtJQUN6Qix3Q0FBcUIsQ0FBQTtJQUNyQixnQ0FBYSxDQUFBO0FBQ2pCLENBQUMsRUFiVyxlQUFlLCtCQUFmLGVBQWUsUUFhMUI7QUFFRDs7R0FFRztBQUNILElBQVksZ0JBT1g7QUFQRCxXQUFZLGdCQUFnQjtJQUN4Qix5REFBcUMsQ0FBQTtJ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QUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUM7SUFDL0MsSUFBSSxLQUFLLENBQUMsSUFBSTtRQUFFLE1BQU0sQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztJQUN6QyxJQUFJLEtBQUssQ0FBQyxVQUFVLEtBQUssU0FBUztRQUFFLE1BQU0sQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDLFVBQVUsQ0FBQztJQUN6RSxJQUFJLEtBQUssQ0FBQyxJQUFJLEtBQUssU0FBUztRQUFFLE1BQU0sQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztJQUN2RCxJQUFJLEtBQUssQ0FBQyxRQUFRO1FBQUUsTUFBTSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDO0lBQ3JELElBQUksS0FBSyxDQUFDLGNBQWM7UUFBRSxNQUFNLENBQUMsY0FBYyxHQUFHLEtBQUssQ0FBQyxjQUFjLENBQUM7SUFDdkUsT0FBTyxNQUFNLENBQUM7QUFDbEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTGF0dGljZSBTREsgTW9kZWxzXG4gKlxuICogRGF0YSBtb2RlbHMgZm9yIHRoZSBMYXR0aWNlIFJFU1QgQVBJLlxuICovXG5cbi8qKlxuICogU2NoZW1hIGVuZm9yY2VtZW50IG1vZGUgZm9yIGNvbGxlY3Rpb25zLlxuICovXG5leHBvcnQgZW51bSBTY2hlbWFFbmZvcmNlbWVudE1vZGUge1xuICAgIE5vbmUgPSAwLFxuICAgIFN0cmljdCA9IDEsXG4gICAgRmxleGlibGUgPSAyLFxuICAgIFBhcnRpYWwgPSAzXG59XG5cbi8qKlxuICogSW5kZXhpbmcgbW9kZSBmb3IgY29sbGVjdGlvbnMuXG4gKi9cbmV4cG9ydCBlbnVtIEluZGV4aW5nTW9kZSB7XG4gICAgQWxsID0gMCxcbiAgICBTZWxlY3RpdmUgPSAxLFxuICAgIE5vbmUgPSAyXG59XG5cbi8qKlxuICogU2VhcmNoIGNvbmRpdGlvbiBvcGVyYXRvcnMuXG4gKi9cbmV4cG9ydCBlbnVtIFNlYXJjaENvbmRpdGlvbiB7XG4gICAgRXF1YWxzID0gXCJFcXVhbHNcIixcbiAgICBOb3RFcXVhbHMgPSBcIk5vdEVxdWFsc1wiLFxuICAgIEdyZWF0ZXJUaGFuID0gXCJHcmVhdGVyVGhhblwiLFxuICAgIEdyZWF0ZXJUaGFuT3JFcXVhbFRvID0gXCJHcmVhdGVyVGhhbk9yRXF1YWxUb1wiLFxuICAgIExlc3NUaGFuID0gXCJMZXNzVGhhblwiLFxuICAgIExlc3NUaGFuT3JFcXVhbFRvID0gXCJMZXNzVGhhbk9yRXF1YWxUb1wiLFxuICAgIElzTnVsbCA9IFwiSXNOdWxsXCIsXG4gICAgSXNOb3ROdWxsID0gXCJJc05vdE51bGxcIixcbiAgICBDb250YWlucyA9IFwiQ29udGFpbnNcIixcbiAgICBTdGFydHNXaXRoID0gXCJTdGFydHNXaXRoXCIsXG4gICAgRW5kc1dpdGggPSBcIkVuZHNXaXRoXCIsXG4gICAgTGlrZSA9IFwiTGlrZVwiXG59XG5cbi8qKlxuICogRW51bWVyYXRpb24gb3JkZXJpbmcgb3B0aW9ucy5cbiAqL1xuZXhwb3J0IGVudW0gRW51bWVyYXRpb25PcmRlciB7XG4gICAgQ3JlYXRlZEFzY2VuZGluZyA9IFwiQ3JlYXRlZEFzY2VuZGluZ1wiLFxuICAgIENyZWF0ZWREZXNjZW5kaW5nID0gXCJDcmVhdGVkRGVzY2VuZGluZ1wiLFxuICAgIExhc3RVcGRhdGVBc2NlbmRpbmcgPSBcIkxhc3RVcGRhdGVBc2NlbmRpbmdcIixcbiAgICBMYXN0VXBkYXRlRGVzY2VuZGluZyA9IFwiTGFzdFVwZGF0ZURlc2NlbmRpbmdcIixcbiAgICBOYW1lQXNjZW5kaW5nID0gXCJOYW1lQXNjZW5kaW5nXCIsXG4gICAgTmFtZURlc2NlbmRpbmcgPSBcIk5hbWVEZXNjZW5kaW5nXCJcbn1cblxuLyoqXG4gKiBEYXRhIHR5cGVzIGZvciBmaWVsZCBjb25zdHJhaW50cyBhbmQgc2NoZW1hIGVsZW1lbnRzLlxuICovXG5leHBvcnQgZW51bSBEYXRhVHlwZSB7XG4gICAgU3RyaW5nID0gXCJzdHJpbmdcIixcbiAgICBJbnRlZ2VyID0gXCJpbnRlZ2VyXCIsXG4gICAgTnVtYmVyID0gXCJudW1iZXJcIixcbiAgICBCb29sZWFuID0gXCJib29sZWFuXCIsXG4gICAgQXJyYXkgPSBcImFycmF5XCIsXG4gICAgT2JqZWN0ID0gXCJvYmplY3RcIixcbiAgICBOdWxsID0gXCJudWxsXCJcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgTGF0dGljZSBjb2xsZWN0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbGxlY3Rpb24ge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICAgIGRvY3VtZW50c0RpcmVjdG9yeT86IHN0cmluZztcbiAgICBsYWJlbHM6IHN0cmluZ1tdO1xuICAgIHRhZ3M6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgY3JlYXRlZFV0Yz86IERhdGU7XG4gICAgbGFzdFVwZGF0ZVV0Yz86IERhdGU7XG4gICAgc2NoZW1hRW5mb3JjZW1lbnRNb2RlOiBTY2hlbWFFbmZvcmNlbWVudE1vZGU7XG4gICAgaW5kZXhpbmdNb2RlOiBJbmRleGluZ01vZGU7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIExhdHRpY2UgZG9jdW1lbnQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRG9jdW1lbnQge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgY29sbGVjdGlvbklkOiBzdHJpbmc7XG4gICAgc2NoZW1hSWQ6IHN0cmluZztcbiAgICBuYW1lPzogc3RyaW5nO1xuICAgIGxhYmVsczogc3RyaW5nW107XG4gICAgdGFnczogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICBjcmVhdGVkVXRjPzogRGF0ZTtcbiAgICBsYXN0VXBkYXRlVXRjPzogRGF0ZTtcbiAgICBjb250ZW50PzogYW55O1xuICAgIGNvbnRlbnRMZW5ndGg6IG51bWJlcjtcbiAgICBzaGEyNTZIYXNoPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBMYXR0aWNlIHNjaGVtYS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTY2hlbWEge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZT86IHN0cmluZztcbiAgICBoYXNoPzogc3RyaW5nO1xuICAgIGNyZWF0ZWRVdGM/OiBEYXRlO1xuICAgIGxhc3RVcGRhdGVVdGM/OiBEYXRlO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYW4gZWxlbWVudCB3aXRoaW4gYSBzY2hlbWEuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2NoZW1hRWxlbWVudCB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBzY2hlbWFJZDogc3RyaW5nO1xuICAgIHBvc2l0aW9uOiBudW1iZXI7XG4gICAga2V5OiBzdHJpbmc7XG4gICAgZGF0YVR5cGU6IHN0cmluZztcbiAgICBudWxsYWJsZTogYm9vbGVhbjtcbiAgICBjcmVhdGVkVXRjPzogRGF0ZTtcbiAgICBsYXN0VXBkYXRlVXRjPzogRGF0ZTtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgZmllbGQgY29uc3RyYWludCBmb3Igc2NoZW1hIHZhbGlkYXRpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRmllbGRDb25zdHJhaW50IHtcbiAgICBpZD86IHN0cmluZztcbiAgICBjb2xsZWN0aW9uSWQ/OiBzdHJpbmc7XG4gICAgZmllbGRQYXRoOiBzdHJpbmc7XG4gICAgZGF0YVR5cGU/OiBzdHJpbmc7XG4gICAgcmVxdWlyZWQ/OiBib29sZWFuO1xuICAgIG51bGxhYmxlPzogYm9vbGVhbjtcbiAgICByZWdleFBhdHRlcm4/OiBzdHJpbmc7XG4gICAgbWluVmFsdWU/OiBudW1iZXI7XG4gICAgbWF4VmFsdWU/OiBudW1iZXI7XG4gICAgbWluTGVuZ3RoPzogbnVtYmVyO1xuICAgIG1heExlbmd0aD86IG51bWJlcjtcbiAgICBhbGxvd2VkVmFsdWVzPzogc3RyaW5nW107XG4gICAgYXJyYXlFbGVtZW50VHlwZT86IHN0cmluZztcbiAgICBjcmVhdGVkVXRjPzogRGF0ZTtcbiAgICBsYXN0VXBkYXRlVXRjPzogRGF0ZTtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGFuIGluZGV4ZWQgZmllbGQgaW4gYSBjb2xsZWN0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEluZGV4ZWRGaWVsZCB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBjb2xsZWN0aW9uSWQ6IHN0cmluZztcbiAgICBmaWVsZFBhdGg6IHN0cmluZztcbiAgICBjcmVhdGVkVXRjPzogRGF0ZTtcbiAgICBsYXN0VXBkYXRlVXRjPzogRGF0ZTtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgc2VhcmNoIGZpbHRlci5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZWFyY2hGaWx0ZXIge1xuICAgIGZpZWxkOiBzdHJpbmc7XG4gICAgY29uZGl0aW9uOiBTZWFyY2hDb25kaXRpb247XG4gICAgdmFsdWU/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHNlYXJjaCBxdWVyeS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZWFyY2hRdWVyeSB7XG4gICAgY29sbGVjdGlvbklkOiBzdHJpbmc7XG4gICAgZmlsdGVycz86IFNlYXJjaEZpbHRlcltdO1xuICAgIGxhYmVscz86IHN0cmluZ1tdO1xuICAgIHRhZ3M/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgIG1heFJlc3VsdHM/OiBudW1iZXI7XG4gICAgc2tpcD86IG51bWJlcjtcbiAgICBvcmRlcmluZz86IEVudW1lcmF0aW9uT3JkZXI7XG4gICAgaW5jbHVkZUNvbnRlbnQ/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgc2VhcmNoIHJlc3VsdHMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VhcmNoUmVzdWx0IHtcbiAgICBzdWNjZXNzOiBib29sZWFuO1xuICAgIHRpbWVzdGFtcD86IERhdGU7XG4gICAgbWF4UmVzdWx0cz86IG51bWJlcjtcbiAgICBjb250aW51YXRpb25Ub2tlbj86IHN0cmluZztcbiAgICBlbmRPZlJlc3VsdHM6IGJvb2xlYW47XG4gICAgdG90YWxSZWNvcmRzOiBudW1iZXI7XG4gICAgcmVjb3Jkc1JlbWFpbmluZzogbnVtYmVyO1xuICAgIGRvY3VtZW50czogRG9jdW1lbnRbXTtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSByZXN1bHQgb2YgYW4gaW5kZXggcmVidWlsZCBvcGVyYXRpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW5kZXhSZWJ1aWxkUmVzdWx0IHtcbiAgICBjb2xsZWN0aW9uSWQ6IHN0cmluZztcbiAgICBkb2N1bWVudHNQcm9jZXNzZWQ6IG51bWJlcjtcbiAgICBpbmRleGVzQ3JlYXRlZDogc3RyaW5nW107XG4gICAgaW5kZXhlc0Ryb3BwZWQ6IHN0cmluZ1tdO1xuICAgIHZhbHVlc0luc2VydGVkOiBudW1iZXI7XG4gICAgZHVyYXRpb24/OiBzdHJpbmc7XG4gICAgZHVyYXRpb25NczogbnVtYmVyO1xuICAgIGVycm9yczogc3RyaW5nW107XG4gICAgc3VjY2VzczogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBzdGFuZGFyZCBBUEkgcmVzcG9uc2Ugd3JhcHBlci5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUNvbnRleHQ8VCA9IGFueT4ge1xuICAgIHN1Y2Nlc3M6IGJvb2xlYW47XG4gICAgc3RhdHVzQ29kZTogbnVtYmVyO1xuICAgIGVycm9yTWVzc2FnZT86IHN0cmluZztcbiAgICBkYXRhPzogVDtcbiAgICBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgIHByb2Nlc3NpbmdUaW1lTXM6IG51bWJlcjtcbiAgICBndWlkPzogc3RyaW5nO1xuICAgIHRpbWVzdGFtcFV0Yz86IERhdGU7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhbiBpbmRleCB0YWJsZSBtYXBwaW5nLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEluZGV4VGFibGVNYXBwaW5nIHtcbiAgICBrZXk6IHN0cmluZztcbiAgICB0YWJsZU5hbWU6IHN0cmluZztcbn1cblxuLyoqXG4gKiBPcHRpb25zIGZvciBjcmVhdGluZyBhIGNvbGxlY3Rpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlQ29sbGVjdGlvbk9wdGlvbnMge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgICBkb2N1bWVudHNEaXJlY3Rvcnk/OiBzdHJpbmc7XG4gICAgbGFiZWxzPzogc3RyaW5nW107XG4gICAgdGFncz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgc2NoZW1hRW5mb3JjZW1lbnRNb2RlPzogU2NoZW1hRW5mb3JjZW1lbnRNb2RlO1xuICAgIGZpZWxkQ29uc3RyYWludHM/OiBGaWVsZENvbnN0cmFpbnRbXTtcbiAgICBpbmRleGluZ01vZGU/OiBJbmRleGluZ01vZGU7XG4gICAgaW5kZXhlZEZpZWxkcz86IHN0cmluZ1tdO1xufVxuXG4vKipcbiAqIE9wdGlvbnMgZm9yIGluZ2VzdGluZyBhIGRvY3VtZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEluZ2VzdERvY3VtZW50T3B0aW9ucyB7XG4gICAgY29sbGVjdGlvbklkOiBzdHJpbmc7XG4gICAgY29udGVudDogYW55O1xuICAgIG5hbWU/OiBzdHJpbmc7XG4gICAgbGFiZWxzPzogc3RyaW5nW107XG4gICAgdGFncz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG59XG5cbi8qKlxuICogUGFyc2UgYSBkYXRlIGZyb20gQVBJIHJlc3BvbnNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VEYXRlKHZhbHVlOiBhbnkpOiBEYXRlIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAoIXZhbHVlKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHJldHVybiB2YWx1ZTtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgICAgIHJldHVybiBpc05hTihkYXRlLmdldFRpbWUoKSkgPyB1bmRlZmluZWQgOiBkYXRlO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIFBhcnNlIGEgQ29sbGVjdGlvbiBmcm9tIEFQSSByZXNwb25zZSBkYXRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VDb2xsZWN0aW9uKGRhdGE6IGFueSk6IENvbGxlY3Rpb24gfCBudWxsIHtcbiAgICBpZiAoIWRhdGEpIHJldHVybiBudWxsO1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBkYXRhLmlkIHx8IFwiXCIsXG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSB8fCBcIlwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5kZXNjcmlwdGlvbixcbiAgICAgICAgZG9jdW1lbnRzRGlyZWN0b3J5OiBkYXRhLmRvY3VtZW50c0RpcmVjdG9yeSxcbiAgICAgICAgbGFiZWxzOiBkYXRhLmxhYmVscyB8fCBbXSxcbiAgICAgICAgdGFnczogZGF0YS50YWdzIHx8IHt9LFxuICAgICAgICBjcmVhdGVkVXRjOiBwYXJzZURhdGUoZGF0YS5jcmVhdGVkVXRjKSxcbiAgICAgICAgbGFzdFVwZGF0ZVV0YzogcGFyc2VEYXRlKGRhdGEubGFzdFVwZGF0ZVV0YyksXG4gICAgICAgIHNjaGVtYUVuZm9yY2VtZW50TW9kZTogZGF0YS5zY2hlbWFFbmZvcmNlbWVudE1vZGUgPz8gU2NoZW1hRW5mb3JjZW1lbnRNb2RlLk5vbmUsXG4gICAgICAgIGluZGV4aW5nTW9kZTogZGF0YS5pbmRleGluZ01vZGUgPz8gSW5kZXhpbmdNb2RlLkFsbFxuICAgIH07XG59XG5cbi8qKlxuICogUGFyc2UgYSBEb2N1bWVudCBmcm9tIEFQSSByZXNwb25zZSBkYXRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VEb2N1bWVudChkYXRhOiBhbnkpOiBEb2N1bWVudCB8IG51bGwge1xuICAgIGlmICghZGF0YSkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGRhdGEuaWQgfHwgXCJcIixcbiAgICAgICAgY29sbGVjdGlvbklkOiBkYXRhLmNvbGxlY3Rpb25JZCB8fCBcIlwiLFxuICAgICAgICBzY2hlbWFJZDogZGF0YS5zY2hlbWFJZCB8fCBcIlwiLFxuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIGxhYmVsczogZGF0YS5sYWJlbHMgfHwgW10sXG4gICAgICAgIHRhZ3M6IGRhdGEudGFncyB8fCB7fSxcbiAgICAgICAgY3JlYXRlZFV0YzogcGFyc2VEYXRlKGRhdGEuY3JlYXRlZFV0YyksXG4gICAgICAgIGxhc3RVcGRhdGVVdGM6IHBhcnNlRGF0ZShkYXRhLmxhc3RVcGRhdGVVdGMpLFxuICAgICAgICBjb250ZW50OiBkYXRhLmNvbnRlbnQsXG4gICAgICAgIGNvbnRlbnRMZW5ndGg6IGRhdGEuY29udGVudExlbmd0aCB8fCAwLFxuICAgICAgICBzaGEyNTZIYXNoOiBkYXRhLnNoYTI1Nkhhc2hcbiAgICB9O1xufVxuXG4vKipcbiAqIFBhcnNlIGEgU2NoZW1hIGZyb20gQVBJIHJlc3BvbnNlIGRhdGEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVNjaGVtYShkYXRhOiBhbnkpOiBTY2hlbWEgfCBudWxsIHtcbiAgICBpZiAoIWRhdGEpIHJldHVybiBudWxsO1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBkYXRhLmlkIHx8IFwiXCIsXG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgaGFzaDogZGF0YS5oYXNoLFxuICAgICAgICBjcmVhdGVkVXRjOiBwYXJzZURhdGUoZGF0YS5jcmVhdGVkVXRjKSxcbiAgICAgICAgbGFzdFVwZGF0ZVV0YzogcGFyc2VEYXRlKGRhdGEubGFzdFVwZGF0ZVV0YylcbiAgICB9O1xufVxuXG4vKipcbiAqIFBhcnNlIGEgU2NoZW1hRWxlbWVudCBmcm9tIEFQSSByZXNwb25zZSBkYXRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VTY2hlbWFFbGVtZW50KGRhdGE6IGFueSk6IFNjaGVtYUVsZW1lbnQgfCBudWxsIHtcbiAgICBpZiAoIWRhdGEpIHJldHVybiBudWxsO1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBkYXRhLmlkIHx8IFwiXCIsXG4gICAgICAgIHNjaGVtYUlkOiBkYXRhLnNjaGVtYUlkIHx8IFwiXCIsXG4gICAgICAgIHBvc2l0aW9uOiBkYXRhLnBvc2l0aW9uIHx8IDAsXG4gICAgICAgIGtleTogZGF0YS5rZXkgfHwgXCJcIixcbiAgICAgICAgZGF0YVR5cGU6IGRhdGEuZGF0YVR5cGUgfHwgXCJcIixcbiAgICAgICAgbnVsbGFibGU6IGRhdGEubnVsbGFibGUgfHwgZmFsc2UsXG4gICAgICAgIGNyZWF0ZWRVdGM6IHBhcnNlRGF0ZShkYXRhLmNyZWF0ZWRVdGMpLFxuICAgICAgICBsYXN0VXBkYXRlVXRjOiBwYXJzZURhdGUoZGF0YS5sYXN0VXBkYXRlVXRjKVxuICAgIH07XG59XG5cbi8qKlxuICogUGFyc2UgYSBGaWVsZENvbnN0cmFpbnQgZnJvbSBBUEkgcmVzcG9uc2UgZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRmllbGRDb25zdHJhaW50KGRhdGE6IGFueSk6IEZpZWxkQ29uc3RyYWludCB8IG51bGwge1xuICAgIGlmICghZGF0YSkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICAgIGNvbGxlY3Rpb25JZDogZGF0YS5jb2xsZWN0aW9uSWQsXG4gICAgICAgIGZpZWxkUGF0aDogZGF0YS5maWVsZFBhdGggfHwgXCJcIixcbiAgICAgICAgZGF0YVR5cGU6IGRhdGEuZGF0YVR5cGUsXG4gICAgICAgIHJlcXVpcmVkOiBkYXRhLnJlcXVpcmVkLFxuICAgICAgICBudWxsYWJsZTogZGF0YS5udWxsYWJsZSxcbiAgICAgICAgcmVnZXhQYXR0ZXJuOiBkYXRhLnJlZ2V4UGF0dGVybixcbiAgICAgICAgbWluVmFsdWU6IGRhdGEubWluVmFsdWUsXG4gICAgICAgIG1heFZhbHVlOiBkYXRhLm1heFZhbHVlLFxuICAgICAgICBtaW5MZW5ndGg6IGRhdGEubWluTGVuZ3RoLFxuICAgICAgICBtYXhMZW5ndGg6IGRhdGEubWF4TGVuZ3RoLFxuICAgICAgICBhbGxvd2VkVmFsdWVzOiBkYXRhLmFsbG93ZWRWYWx1ZXMsXG4gICAgICAgIGFycmF5RWxlbWVudFR5cGU6IGRhdGEuYXJyYXlFbGVtZW50VHlwZSxcbiAgICAgICAgY3JlYXRlZFV0YzogcGFyc2VEYXRlKGRhdGEuY3JlYXRlZFV0YyksXG4gICAgICAgIGxhc3RVcGRhdGVVdGM6IHBhcnNlRGF0ZShkYXRhLmxhc3RVcGRhdGVVdGMpXG4gICAgfTtcbn1cblxuLyoqXG4gKiBQYXJzZSBhbiBJbmRleGVkRmllbGQgZnJvbSBBUEkgcmVzcG9uc2UgZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlSW5kZXhlZEZpZWxkKGRhdGE6IGFueSk6IEluZGV4ZWRGaWVsZCB8IG51bGwge1xuICAgIGlmICghZGF0YSkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGRhdGEuaWQgfHwgXCJcIixcbiAgICAgICAgY29sbGVjdGlvbklkOiBkYXRhLmNvbGxlY3Rpb25JZCB8fCBcIlwiLFxuICAgICAgICBmaWVsZFBhdGg6IGRhdGEuZmllbGRQYXRoIHx8IFwiXCIsXG4gICAgICAgIGNyZWF0ZWRVdGM6IHBhcnNlRGF0ZShkYXRhLmNyZWF0ZWRVdGMpLFxuICAgICAgICBsYXN0VXBkYXRlVXRjOiBwYXJzZURhdGUoZGF0YS5sYXN0VXBkYXRlVXRjKVxuICAgIH07XG59XG5cbi8qKlxuICogUGFyc2UgYSBTZWFyY2hSZXN1bHQgZnJvbSBBUEkgcmVzcG9uc2UgZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU2VhcmNoUmVzdWx0KGRhdGE6IGFueSk6IFNlYXJjaFJlc3VsdCB8IG51bGwge1xuICAgIGlmICghZGF0YSkgcmV0dXJuIG51bGw7XG5cbiAgICBsZXQgdGltZXN0YW1wOiBEYXRlIHwgdW5kZWZpbmVkO1xuICAgIGlmIChkYXRhLnRpbWVzdGFtcCkge1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEudGltZXN0YW1wID09PSBcIm9iamVjdFwiICYmIGRhdGEudGltZXN0YW1wLnV0Yykge1xuICAgICAgICAgICAgdGltZXN0YW1wID0gcGFyc2VEYXRlKGRhdGEudGltZXN0YW1wLnV0Yyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aW1lc3RhbXAgPSBwYXJzZURhdGUoZGF0YS50aW1lc3RhbXApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZGF0YS5zdWNjZXNzIHx8IGZhbHNlLFxuICAgICAgICB0aW1lc3RhbXAsXG4gICAgICAgIG1heFJlc3VsdHM6IGRhdGEubWF4UmVzdWx0cyxcbiAgICAgICAgY29udGludWF0aW9uVG9rZW46IGRhdGEuY29udGludWF0aW9uVG9rZW4sXG4gICAgICAgIGVuZE9mUmVzdWx0czogZGF0YS5lbmRPZlJlc3VsdHMgfHwgZmFsc2UsXG4gICAgICAgIHRvdGFsUmVjb3JkczogZGF0YS50b3RhbFJlY29yZHMgfHwgMCxcbiAgICAgICAgcmVjb3Jkc1JlbWFpbmluZzogZGF0YS5yZWNvcmRzUmVtYWluaW5nIHx8IDAsXG4gICAgICAgIGRvY3VtZW50czogKGRhdGEuZG9jdW1lbnRzIHx8IFtdKS5tYXAoKGQ6IGFueSkgPT4gcGFyc2VEb2N1bWVudChkKSkuZmlsdGVyKChkOiBhbnkpID0+IGQgIT09IG51bGwpXG4gICAgfTtcbn1cblxuLyoqXG4gKiBQYXJzZSBhbiBJbmRleFJlYnVpbGRSZXN1bHQgZnJvbSBBUEkgcmVzcG9uc2UgZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlSW5kZXhSZWJ1aWxkUmVzdWx0KGRhdGE6IGFueSk6IEluZGV4UmVidWlsZFJlc3VsdCB8IG51bGwge1xuICAgIGlmICghZGF0YSkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29sbGVjdGlvbklkOiBkYXRhLmNvbGxlY3Rpb25JZCB8fCBcIlwiLFxuICAgICAgICBkb2N1bWVudHNQcm9jZXNzZWQ6IGRhdGEuZG9jdW1lbnRzUHJvY2Vzc2VkIHx8IDAsXG4gICAgICAgIGluZGV4ZXNDcmVhdGVkOiBkYXRhLmluZGV4ZXNDcmVhdGVkIHx8IFtdLFxuICAgICAgICBpbmRleGVzRHJvcHBlZDogZGF0YS5pbmRleGVzRHJvcHBlZCB8fCBbXSxcbiAgICAgICAgdmFsdWVzSW5zZXJ0ZWQ6IGRhdGEudmFsdWVzSW5zZXJ0ZWQgfHwgMCxcbiAgICAgICAgZHVyYXRpb246IGRhdGEuZHVyYXRpb24sXG4gICAgICAgIGR1cmF0aW9uTXM6IGRhdGEuZHVyYXRpb25NcyB8fCAwLFxuICAgICAgICBlcnJvcnM6IGRhdGEuZXJyb3JzIHx8IFtdLFxuICAgICAgICBzdWNjZXNzOiBkYXRhLnN1Y2Nlc3MgfHwgZmFsc2VcbiAgICB9O1xufVxuXG4vKipcbiAqIFBhcnNlIGFuIEluZGV4VGFibGVNYXBwaW5nIGZyb20gQVBJIHJlc3BvbnNlIGRhdGEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUluZGV4VGFibGVNYXBwaW5nKGRhdGE6IGFueSk6IEluZGV4VGFibGVNYXBwaW5nIHwgbnVsbCB7XG4gICAgaWYgKCFkYXRhKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4ge1xuICAgICAgICBrZXk6IGRhdGEua2V5IHx8IFwiXCIsXG4gICAgICAgIHRhYmxlTmFtZTogZGF0YS50YWJsZU5hbWUgfHwgXCJcIlxuICAgIH07XG59XG5cbi8qKlxuICogQ29udmVydCBhIEZpZWxkQ29uc3RyYWludCB0byBBUEkgcmVxdWVzdCBmb3JtYXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaWVsZENvbnN0cmFpbnRUb1JlcXVlc3QoY29uc3RyYWludDogRmllbGRDb25zdHJhaW50KTogYW55IHtcbiAgICBjb25zdCByZXN1bHQ6IGFueSA9IHtcbiAgICAgICAgZmllbGRQYXRoOiBjb25zdHJhaW50LmZpZWxkUGF0aFxuICAgIH07XG4gICAgaWYgKGNvbnN0cmFpbnQuZGF0YVR5cGUpIHJlc3VsdC5kYXRhVHlwZSA9IGNvbnN0cmFpbnQuZGF0YVR5cGU7XG4gICAgaWYgKGNvbnN0cmFpbnQucmVxdWlyZWQpIHJlc3VsdC5yZXF1aXJlZCA9IGNvbnN0cmFpbnQucmVxdWlyZWQ7XG4gICAgaWYgKGNvbnN0cmFpbnQubnVsbGFibGUgIT09IHVuZGVmaW5lZCkgcmVzdWx0Lm51bGxhYmxlID0gY29uc3RyYWludC5udWxsYWJsZTtcbiAgICBpZiAoY29uc3RyYWludC5yZWdleFBhdHRlcm4pIHJlc3VsdC5yZWdleFBhdHRlcm4gPSBjb25zdHJhaW50LnJlZ2V4UGF0dGVybjtcbiAgICBpZiAoY29uc3RyYWludC5taW5WYWx1ZSAhPT0gdW5kZWZpbmVkKSByZXN1bHQubWluVmFsdWUgPSBjb25zdHJhaW50Lm1pblZhbHVlO1xuICAgIGlmIChjb25zdHJhaW50Lm1heFZhbHVlICE9PSB1bmRlZmluZWQpIHJlc3VsdC5tYXhWYWx1ZSA9IGNvbnN0cmFpbnQubWF4VmFsdWU7XG4gICAgaWYgKGNvbnN0cmFpbnQubWluTGVuZ3RoICE9PSB1bmRlZmluZWQpIHJlc3VsdC5taW5MZW5ndGggPSBjb25zdHJhaW50Lm1pbkxlbmd0aDtcbiAgICBpZiAoY29uc3RyYWludC5tYXhMZW5ndGggIT09IHVuZGVmaW5lZCkgcmVzdWx0Lm1heExlbmd0aCA9IGNvbnN0cmFpbnQubWF4TGVuZ3RoO1xuICAgIGlmIChjb25zdHJhaW50LmFsbG93ZWRWYWx1ZXMpIHJlc3VsdC5hbGxvd2VkVmFsdWVzID0gY29uc3RyYWludC5hbGxvd2VkVmFsdWVzO1xuICAgIGlmIChjb25zdHJhaW50LmFycmF5RWxlbWVudFR5cGUpIHJlc3VsdC5hcnJheUVsZW1lbnRUeXBlID0gY29uc3RyYWludC5hcnJheUVsZW1lbnRUeXBlO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ29udmVydCBhIFNlYXJjaEZpbHRlciB0byBBUEkgcmVxdWVzdCBmb3JtYXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWFyY2hGaWx0ZXJUb1JlcXVlc3QoZmlsdGVyOiBTZWFyY2hGaWx0ZXIpOiBhbnkge1xuICAgIGNvbnN0IHJlc3VsdDogYW55ID0ge1xuICAgICAgICBmaWVsZDogZmlsdGVyLmZpZWxkLFxuICAgICAgICBjb25kaXRpb246IGZpbHRlci5jb25kaXRpb25cbiAgICB9O1xuICAgIGlmIChmaWx0ZXIudmFsdWUgIT09IHVuZGVmaW5lZCkgcmVzdWx0LnZhbHVlID0gZmlsdGVyLnZhbHVlO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ29udmVydCBhIFNlYXJjaFF1ZXJ5IHRvIEFQSSByZXF1ZXN0IGZvcm1hdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlYXJjaFF1ZXJ5VG9SZXF1ZXN0KHF1ZXJ5OiBTZWFyY2hRdWVyeSk6IGFueSB7XG4gICAgY29uc3QgcmVzdWx0OiBhbnkgPSB7fTtcbiAgICBpZiAocXVlcnkuZmlsdGVycykgcmVzdWx0LmZpbHRlcnMgPSBxdWVyeS5maWx0ZXJzLm1hcChzZWFyY2hGaWx0ZXJUb1JlcXVlc3QpO1xuICAgIGlmIChxdWVyeS5sYWJlbHMpIHJlc3VsdC5sYWJlbHMgPSBxdWVyeS5sYWJlbHM7XG4gICAgaWYgKHF1ZXJ5LnRhZ3MpIHJlc3VsdC50YWdzID0gcXVlcnkudGFncztcbiAgICBpZiAocXVlcnkubWF4UmVzdWx0cyAhPT0gdW5kZWZpbmVkKSByZXN1bHQubWF4UmVzdWx0cyA9IHF1ZXJ5Lm1heFJlc3VsdHM7XG4gICAgaWYgKHF1ZXJ5LnNraXAgIT09IHVuZGVmaW5lZCkgcmVzdWx0LnNraXAgPSBxdWVyeS5za2lwO1xuICAgIGlmIChxdWVyeS5vcmRlcmluZykgcmVzdWx0Lm9yZGVyaW5nID0gcXVlcnkub3JkZXJpbmc7XG4gICAgaWYgKHF1ZXJ5LmluY2x1ZGVDb250ZW50KSByZXN1bHQuaW5jbHVkZUNvbnRlbnQgPSBxdWVyeS5pbmNsdWRlQ29udGVudDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIl19